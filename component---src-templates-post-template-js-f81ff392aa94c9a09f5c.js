"use strict";(self.webpackChunkgatsby_starter_blog=self.webpackChunkgatsby_starter_blog||[]).push([[946],{3569:function(e,t,a){var n=a(3723),r=a(1883),l=a(7294);t.Z=e=>{let{post:t}=e;return l.createElement("div",{className:"item-post"},l.createElement(r.Link,{to:"/"+t.slug},l.createElement(n.G,{class:"image-item-post",image:(0,n.c)(t.thumbnail.localFile.childImageSharp.gatsbyImageData),alt:t.thumbnail.alternativeText}),l.createElement("div",{className:"container-text"},l.createElement("h4",null,t.title))))}},4214:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var n=a(7294),r=a(9614);var l=e=>{let{title:t}=e;return n.createElement("h1",{className:"title"},t)};var c=e=>{let{tag:t}=e;return n.createElement("div",{className:"container-tag background-color"},n.createElement("p",null,t.name))},s=a(3723);var i=e=>{let{image:t}=e;return n.createElement(s.G,{className:"main-image",image:(0,s.c)(t.localFile.childImageSharp.gatsbyImageData),alt:null==t?void 0:t.alternativeText})};var o=e=>new Date(e).toLocaleDateString();var m=e=>{let{author:t,publishedAt:a}=e;return n.createElement("div",{className:"container-detail"},n.createElement("span",{className:"date"},"Posted on ",o(a)),n.createElement("span",{className:"author"},"by ",t.name))};var u=e=>{let{title:t,image:a,tags:r,author:s,publishedAt:o}=e;return n.createElement("header",{className:"header"},n.createElement("div",{className:"header-content"},n.createElement("div",{className:"container-tags"},r.name?n.createElement(c,{tag:r}):r.map(((e,t)=>n.createElement(c,{tag:e,key:t})))),n.createElement(l,{title:t}),n.createElement(m,{author:s,publishedAt:o})),n.createElement(i,{image:a}))};const d={"shared.rich-text":e=>{let{data:t}=e;return n.createElement("section",{dangerouslySetInnerHTML:{__html:t.body.data.childMarkdownRemark.html}})},"shared.media":e=>{let{data:t}=e;return n.createElement("div",{className:"image-container"},n.createElement(s.G,{className:"image-content",image:(0,s.c)(t.image.localFile.childImageSharp.gatsbyImageData),alt:t.alternativeText}))}},g=e=>{let{block:t}=e;const a=d[t.strapi_component];return a?n.createElement(a,{data:t}):null};var h=e=>{let{blocks:t}=e;return n.createElement(n.Fragment,null,t.map(((e,t)=>n.createElement(g,{key:t,block:e}))))},E=a(5785);const p={rootMargin:"-80px 0px -200px 0px",threshold:1};var v=a(1883);var f=e=>{let{title:t,index:a,headingsActive:r,handlerClick:l}=e;const[c,s]=n.useState(!1),i=n.useRef();return n.useEffect((()=>{r.map((e=>e.innerText)).includes(i.current.innerText)?s(!0):s(!1)}),[i.current,r]),n.createElement("li",{onClick:l,ref:i,key:a,className:c&&"isIntersecting"},n.createElement(v.Link,{to:"#"+t.id},t.text))};var b=e=>{let{blocks:t}=e;const a=n.useRef(),[r,l]=n.useState([]),[c,s]=n.useState([]),[i,o]=n.useState([]),[m,u]=n.useState({click:!1,element:null});n.useEffect((()=>{s(document.querySelectorAll("h2"))}),[]),n.useEffect((()=>{l(Array.from(c).map((e=>({id:e.id,text:e.innerText}))))}),[c]);const d=((e,t)=>{const a=n.useRef(),[r,l]=n.useState([]);return n.useEffect((()=>{if(!t.click){var n;let t=r;const c=e=>{e.forEach((e=>{e.isIntersecting&&!t.includes(e.target)&&(t=[].concat((0,E.Z)(t),[e.target])),!e.isIntersecting&&t.includes(e.target)&&(t=t.filter((t=>t!==e.target)))})),0!==t.length&&l(t)};return null===(n=a.current)||void 0===n||n.disconnect(),a.current=new IntersectionObserver(c,p),Array.from(e).forEach((e=>{a.current.observe(e)})),()=>{var e;return null===(e=a.current)||void 0===e?void 0:e.disconnect()}}}),[e,p]),r})(c,m);n.useEffect((()=>{if(a.current.scrollHeight>400&&!1===m.click){const e=Math.min.apply(Math,(0,E.Z)(d.map((e=>Array.from(c).indexOf(e)))));if(a.current.childNodes.length>0&&e!==1/0){let t=0;for(let n=0;n<=e-1;n++)t+=a.current.childNodes[n].getBoundingClientRect().height;o(t)}}}),[a.current,d,m]),n.useEffect((()=>{a.current.scrollTop=i}),[i]),n.useEffect((()=>{if(null!=m&&m.click){const e=window.screen.availHeight,t=m.element.getBoundingClientRect().height,a=new IntersectionObserver((e=>{const[t]=e,a=setTimeout((()=>{u({click:!1,element:null})}),800);t.isIntersecting&&(clearTimeout(a),u({click:!1,element:null}))}),{root:null,rootMargin:"-80px 0px -"+(e-80+t)+"px 0px",threshold:1});return a.observe(m.element),()=>a.unobserve(m.element)}}),[m]);const g=e=>{if(e.target.matches("li"))return!1;const t=e.target.innerText,[a]=Array.from(c).filter((e=>e.innerText===t));u({click:!0,element:a})};return n.createElement("aside",{className:"sidebar"},n.createElement("h3",null,"Table of Contents"),n.createElement("div",{className:"table-content",ref:a},null==r?void 0:r.map(((e,t)=>n.createElement(f,{title:e,key:t,headingsActive:d,handlerClick:g})))))},k=a(3569);var x=()=>{const e=(0,v.useStaticQuery)(N).allStrapiArticle.nodes;return n.createElement("div",{className:"container-last-posts"},n.createElement("h3",null,"Last Posts"),n.createElement("div",{className:"container-post"},e.map(((e,t)=>n.createElement(k.Z,{post:e,key:t})))))};const N="4262207826";var y=a(8183);var S=e=>{let{data:t}=e;const{blocks:a,title:l,description:c,thumbnail:s,category:i,author:o,publishedAt:m}=t.allStrapiArticle.nodes[0];return n.createElement(r.Z,null,n.createElement(y.Z,{title:l,description:c}),n.createElement(u,{title:l,description:c,image:s,tags:i,author:o,publishedAt:m}),n.createElement("article",{className:"full-content"},n.createElement("section",{className:"post-content"},n.createElement(h,{blocks:a}),n.createElement(x,null)),n.createElement(b,{blocks:a})))}}}]);
//# sourceMappingURL=component---src-templates-post-template-js-f81ff392aa94c9a09f5c.js.map